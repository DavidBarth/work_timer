<h1>Completed Events</h1>

<% if @completed_events.size > 0 %>
  <table>
    <tr>
      <th>Event</th>
      <th>Date</th>
      <th>Start</th>
      <th>End</th>
      <th>Hours</th>
      <th>Comment</th>
      <th></th>
      <th></th>
    </tr>

  <% @completed_events.each do |event| %>
    <tr>
      <td><%= link_to "#{event.project.client.name}: #{event.project.title}", event %></td>
      <td><%= event.start.strftime('%a, %b %d') %></td>
      <td><%= event.start.strftime('%H:%M') %></td>
      <td><%= event.end.strftime('%H:%M') %></td>
      <td class="hours"><%= number_with_precision((event.end - event.start) / 3600, :precision => 2) %></td>
      <td><%= truncate(event.comment, :length => 25, :separator => ' ') %></td>
      <td><%= link_to 'Resume', resume_event_path(event), :confirm => 'Are you sure?', :method => :post %></td>
    </tr>
  <% end %>
  </table>
  <%= paginate @completed_events %>
<% else %>
  <p>No completed events!</p>
<% end %>
